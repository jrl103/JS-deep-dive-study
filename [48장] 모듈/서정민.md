48장 모듈

# 모듈

## 모듈의 일반적 의미

> ### 모듈
>
> 애플리케이션을 구성하는 개별적 요소로서 재사용이 가능한 코드 조각
>
> 모듈의 조건
>
> - 자신만의 파일스코프(모듈 스코프)를 가짐
> - export/import 키워드를 통한 의존성 명시
> - 단독성 보장 (독립적으로 동작 가능한 단위)
> - 재사용성
> - 캡슐화 (정보 은닉)
> - 추상화
> - 느슨한 결합도 (의존성 주입을 통한 느슨한 결합으로 데이터베이스 의존성을 주입하여 다양한 데이터베이스 구현체 사용 가능)
>
> 모듈이 위 조건들을 만족하면 생기는 장점
>
> - 코드의 재사용성 향상
> - 유지보수성 향상
> - 테스트 용이성 확보
> - 관심사의 분리 달성

## 자바스크립트와 모듈

자바스크립트는 모듈이 성립하기 위해 필요한 파일 스코프와 import, export를 지원하지 않기 때문에 모듈 시스템을 기본적으로 제공하지 않는다고 할 수 있다.

하지만 모듈이 성립하기 위해 필요한 파일 스코프와 import, export를 지원하는 모듈 시스템을 제공하는 라이브러리가 있다.

- CommonJS
- AMD
- ES6 모듈

## ES6 모듈

ES6 모듈은 파일 단위로 독립적인 모듈 스코프를 제공한다. 모듈 스코프는 모듈 내부에서 선언한 식별자가 모듈 내부에서만 참조할 수 있는 특정 영역이다. 모듈 스코프는 모듈 내부에서 선언한 식별자가 모듈 내부에서만 참조할 수 있는 특정 영역이다.

### 모듈 스코프

ES6 모듈은 파일 단위로 독립적인 모듈 스코프를 제공한다. 모듈 스코프는 모듈 내부에서 선언한 식별자가 모듈 내부에서만 참조할 수 있는 특정 영역이다. 모듈 스코프는 모듈 내부에서 선언한 식별자가 모듈 내부에서만 참조할 수 있는 특정 영역이다.

### export 키워드

모듈 내부에서 선언한 식별자를 외부에 공개하여 다른 모듈들이 재사용할 수 있게 하려면 `export` 키워드를 사용한다. `export` 키워드는 선언문 앞에 사용한다.

여러개를 한번에 export 할 수 있다.

```js
const pi = Math.PI;

function square(x) {
  return x * x;
}

export { pi, square };
```

### import 키워드

다른 모듈에서 공개한 식별자를 자신의 모듈 스코프 내부로 로드하려면 import 키워드를 사용한다.

```js
import { pi, square } from "./math.js";
```

모듈이 export한 식별자 이름을 변경하여 import 할 수 있다.

```js
import { pi as PI, square as sq } from "./lib.mjs";
```

모듈에서 하나의 값만 export한다면 default 키워드를 사용할 수 있다.
default 키워드를 사용하는 경우 기본적으로 이름 없이 하나의 값을 export 한다.

```js
export default (x) => x * x;
```

default 키워드와 함께 export한 모듈은 {} 없이 임의의 이름으로 import한다,

```js
import square from "./lib.mjs";
```
